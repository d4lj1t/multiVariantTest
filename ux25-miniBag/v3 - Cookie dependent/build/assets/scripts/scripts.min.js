"use strict";var HOFMaxymiser=HOFMaxymiser||{};HOFMaxymiser.UX25_fullscreen=function(){var a={actionName:"ux25",isProduction:!1},b={},c={},d={};b.cookieExpireTime=0,b.date=new Date,b.minutes=1,b.day=b.date.getDay(),b.hour=b.date.getHours(),b.basket={},b.insertMessageRules=[{text:"Order by midnight & collect instore from Noon Next Day* <span class='font-sm clearfix'>subject to availabilty</span>",time:18}],b.message=function(){for(var a="",c=0;c<b.insertMessageRules.length;c++)if(null!=b.insertMessageRules[c+1]){if(b.hour>b.insertMessageRules[c].time&&b.hour<b.insertMessageRules[c+1].time){a=b.insertMessageRules[c].text;break}}else a=b.insertMessageRules[b.insertMessageRules.length-1].text;return""==a&&(a=b.insertMessageRules[0].text),a},b.isCookieSet=function(){return a.isProduction?$(".quantity-block").text()>0&&null===$.cookie("miniBag_viewed")&&null===$.cookie("last_seen"):!0},d.isWeekday=5!=b.day&&6!=b.day&&0!=b.day,d.getMessage=function(){return b.message()},c.removeMiniBagViewedCookie=function(){0===$(".quantity-block").text()&&$.cookie("miniBag_viewed",null,{path:"/"})},c.emptyFunctions=function(){showMiniBag=function(){},hideMiniBag=function(){}},c.resetFunctions=function(){showMiniBag=b.showMiniBagBackup,hideMiniBag=b.hideMiniBagBackup},c.injectMessage=function(){var a="";a+='<div class="minicart-top-content">  <span class="font-lg-large">Welcome Back! </span>  <span class="font-lg"> Your basket was saved from your last visit.</span>  <span class="icon-cross pull-right close-mini-bag-cross">&nbsp</span></div>',$(".minicart-container").before(a);var b="";b+='<div class="minicart-bottom-content  letter-spacing-sm ">  <span class="icon-time">&nbsp</span>  <span class="js-delivery-text font-lg">&nbsp</span>  </div>',$(".minicart-container").after(b)},c.removeMessage=function(){$(".minicart-left-content").remove(),$("#hof-header .hof-btn-wrap .minicart-menu.hover-state").removeClass("active")},c.injectFadeBkgrnd=function(){$(".black-bg").length?"":$(".hof-navs").after('<div class="black-bg"></div>').fadeIn(100),$("#hof-header .hof-btn-wrap .minicart-menu.hover-state").addClass("active"),$("#hof-header .black-bg").fadeIn(100),$(".hof-navs").css("background","transparent"),$("nav.hof-buttons-set:first, nav.hof-buttons-set #login-menu, #searchSite").fadeTo(100,.3)},c.slideDownMiniBag=function(){var a="";a+='<div class="blur-bg"></div>',$(".minicart-container").find("hr").not("hr:last").remove(),$(".minicart-container").find("h3:first").remove(),$("#minicart-menu").addClass("open"),b.basket.prepend(a),b.basket.hide().insertBefore("#deliveryBar")},c.slideUpMiniBag=function(){b.basket.slideUp("slow",function(){$(this).css("display",""),$("#minicart-menu").removeClass("open"),$("#basketLinkDropdown").append(b.basket),document.body.classList.remove(a.actionName+"-"+a.varient)}),$("#hof-header .black-bg").fadeOut(100),$(".hof-navs").css("background","initial"),$("nav.hof-buttons-set:first, nav.hof-buttons-set #login-menu, #searchSite").fadeTo(100,1)},c.miniBagViewedCookie=function(){$.cookie("miniBag_viewed","true",{expires:b.cookieExpireTime,path:"/"})},c.lastSeenCookie=function(){$.cookie("last_seen","true",{expires:b.cookieExpireTime,path:"/"})},c.showOverlay=function(){$(".image-overlay").fadeIn()},d.bindEvents=function(){c.removeMiniBagViewedCookie(),b.isCookieSet()&&(c.emptyFunctions(),b.showMiniBagBackup(!0),c.injectMessage(),$(".js-delivery-text").append(d.getMessage()),c.injectFadeBkgrnd(),c.slideDownMiniBag(),$("body").on("click",".js-icon-cross",function(){$(this).parent(".minicart-product").addClass("remove-clicked")}),$("body").on("click",".js-no-btn, .blur-bg, .minicart-top-content, .minicart-bottom-content, .minicart-container-buttons",function(){$(".minicart-product").removeClass("remove-clicked")}),$("body").on("click",".black-bg, .close-mini-bag-cross",function(){c.slideUpMiniBag(),c.resetFunctions(),hideMiniBag(!0),c.removeMessage(),c.miniBagViewedCookie()}),minibagReformat()),c.lastSeenCookie()},d.loadView=function(c){e("js-loaded-"+a.actionName+"-"+a.varient),document.body.classList.add(a.actionName+"-"+a.varient),b.cookieExpireTime=c,b.showMiniBagBackup=showMiniBag,b.hideMiniBagBackup=hideMiniBag,b.basket=$("#basket-content"),d.bindEvents()};var e=function(b){0==a.isProduction&&console.log(b)};return{Settings:a,View:{injectMessage:c.injectMessage,resetFunctions:c.resetFunctions},Model:{insertMessageRules:b.insertMessageRules},init:d.loadView}},document.write('<script src="http://'+"localhost".split(":")[0]+':35729/livereload.js?snipver=1"></script>');var minibagReformat=function(){function a(a){jQuery.post("/on/demandware.store/Sites-hof-Site/default/Cart-MiniRemoveProduct",{pid:a},function(a){HOFSite.variables.miniBagUI.updateCache(a),jQuery.publish("minibag_content_updated")})}var b="";b=window.location.host.includes("houseoffraser")?window.location.host:"www.houseoffraser.co.uk";var c="/dw/shop/v15_4/$action$?client_id=03697f74-b2ec-47b6-a9bc-43a6e41d0847",d=$(".minicart-container"),e={},f={},g=function(){var a=c.replace("$action$","basket/this");return $.get(a)},h=function(a){var b=c.replace("$action$","products/"+a+"/images");return $.get(b)},i=function(a,b){var c="//houseoffraser.scene7.com/is/image/HOF/$imageId$?size=140,180&",d="/"+a.product_name.replace(" ","+")+"/"+a.product_id+",default,pd.html",e='<li class="minicart-product"><span class="icon-cross js-icon-cross img-overlay-cross">&nbsp</span><div class="img-overlay"><div class="overlay-content-wrapper vertical-middle font-lg">Remove <br> this item?<div class="overlay-btn-wrapper minicart-remove"><span class="circle-btn yes-btn js-yes-btn remove-button font-lg" id="item_id_$itemId$">Yes</span><span class="circle-btn no-btn js-no-btn font-lg">No</span></div></div></div> <div class="img-wrapper"><a href="$productUrl$"><img src="$image$" alt="" class="deviceImage"/></a></div><span class="font-lg  letter-spacing-sm productPrice"> Â£$price$ </span> </li>';return e=e.replace("$price$",a.price.toFixed(2)),e=e.replace("$productUrl$",d),e=e.replace("$itemId$",b.id),e=e.replace("$image$",c.replace("$imageId$",b.c_PrimaryImage))},j=function(){e=removeProductFromMiniCart,removeProductFromMiniCart=a,f=showMiniBag,showMiniBag=function(){}},k=function(){removeProductFromMiniCart=e,showMiniBag=f},l=function(){var a='<div class="img-overlay see-all-items"><a href="https://www.houseoffraser.co.uk/on/demandware.store/Sites-hof-Site/default/Cart-Show"><div class="overlay-content-wrapper vertical-middle view-more"><span class="font-lg">+'+parseInt($(".quantity-block").html()-7)+' more</span><div class="font-sm line-height-1">View Now</div></div></a></div> ';$(".minicart-product").eq(6).append(a),$(".minicart-product").eq(6).find(".productPrice,  .img-overlay-cross").addClass("vis-none")},m=function(){$(".see-all-items").remove(),$(".minicart-product").eq(5).find(".productPrice,  .img-overlay-cross").removeClass("vis-none")},n=function(){parseInt($(".quantity-block").html())>7&&0==$(".see-all-items").length&&l()},o=function(){var a=parseInt($(".quantity-block").html());a--,a=a--,$(".quantity-block").html(a)},p=function(a){var b=d.find(".products"),c=a.product_id;h(c).done(function(d){b.append(i(a,d)),$("#item_id_"+c).click(function(){j();var a=this.id.slice(8,this.id.length);removeProductFromMiniCart(a),$(this).closest(".minicart-product").fadeOut(function(){$(this).remove(),o(),m(),n()}),k()}),n()})},q=function(){var a=$(".minicart-checkout"),b=$(".minicart-all");d=$(".minicart-container"),d.html(""),d.append('<ul class="products"> </ul>'),g().done(function(c){for(var e=c.product_items,f=0;f<e.length;f++){var g=e[f];p(g,f+1)}d.after('<div class="minicart-container-buttons"> </div>');var h=$(".minicart-container-buttons");h.append(b),h.append(a),$(".minicart-product").hide()}),$("#basket-content").slideDown()};hideMiniBag=function(){},q()};$(window).load(function(){var a=HOFMaxymiser.UX25_fullscreen();a.Settings.varient="v3";var b=new Date,c=7;b.setDate(b.getDate()+c),a.init(b)});