"use strict";var HOFMaxymiser=HOFMaxymiser||{};HOFMaxymiser.UX25=function(){var a={actionName:"ux25",isProduction:!1},b={},c={},d={};b.cookieExpireTime=0,b.date=new Date,b.minutes=1,b.date.setTime(b.date.getTime()+60*b.minutes*1e3),b.day=b.date.getDay(),b.hour=b.date.getHours(),b.insertMessageRules=[{text:"Order by Midnight for free Buy & Collect tomorrow <span class='font-xs clearfix'></span>",time:18}],b.message=function(){for(var a="",c=0;c<b.insertMessageRules.length;c++)if(null!=b.insertMessageRules[c+1]){if(b.hour>b.insertMessageRules[c].time&&b.hour<b.insertMessageRules[c+1].time){a=b.insertMessageRules[c].text;break}}else a=b.insertMessageRules[b.insertMessageRules.length-1].text;return""==a&&(a=b.insertMessageRules[0].text),a},d.isWeekday=5!=b.day&&6!=b.day&&0!=b.day,d.getMessage=function(){return b.message()},b.isCookieSet=function(){return a.isProduction?$(".quantity-block").text()>0&&null===$.cookie("miniBag_viewed")&&null===$.cookie("last_seen"):!0},c.removeMiniBagViewedCookie=function(){0===$(".quantity-block").text()&&$.cookie("miniBag_viewed",null,{path:"/"})},c.emptyFunctions=function(){showMiniBag=function(){},hideMiniBag=function(){}},c.resetFunctions=function(){showMiniBag=b.showMiniBagBackup,hideMiniBag=b.hideMiniBagBackup},c.injectMessage=function(){var a="";a+='<div class="minicart-left-content">',a+="  <h3>Hello Again</h3>",a+="  <p>Weâ€™ve saved the items you liked on your last visit</p>",a+="  <p class='js-delivery-text'>",a+="</p></div>",$("#basket-content").append(a)},c.removeMessage=function(){$(".minicart-left-content").remove(),$("#hof-header .hof-btn-wrap .minicart-menu.hover-state").removeClass("active")},c.injectFadeBkgrnd=function(){$(".black-bg").length?"":$(".hof-navs").after('<div class="black-bg"></div>').fadeIn(100),$("#hof-header .hof-btn-wrap .minicart-menu.hover-state").addClass("active"),$("#hof-header .black-bg").fadeIn(100),$(".hof-navs").css("background","transparent"),$("nav.hof-buttons-set:first, nav.hof-buttons-set #login-menu, #searchSite").fadeTo(100,.3)},c.slideDownMiniBag=function(){$("#minicart-menu").addClass("open").find("#basket-content").hide(),$("#basket-content").slideDown()},c.slideUpMiniBag=function(){$("#basket-content").css("display",""),$("#minicart-menu").removeClass("open"),$("#hof-header .black-bg").fadeOut(100),$(".hof-navs").css("background","initial"),$("nav.hof-buttons-set:first, nav.hof-buttons-set #login-menu, #searchSite").fadeTo(100,1)},c.miniBagViewedCookie=function(){$.cookie("miniBag_viewed","true",{expires:b.cookieExpireTime,path:"/"})},c.lastSeenCookie=function(){$.cookie("last_seen","true",{expires:b.cookieExpireTime,path:"/"})},d.bindEvents=function(){c.removeMiniBagViewedCookie(),$(".quantity-block").text()>0&&(c.emptyFunctions(),b.showMiniBagBackup(!0),c.injectMessage(),$(".js-delivery-text").append(d.getMessage()),c.injectFadeBkgrnd(),c.slideDownMiniBag(),$(".hof-icon-x, .black-bg").click(function(){c.slideUpMiniBag(),c.resetFunctions(),hideMiniBag(!0),c.removeMessage(),c.miniBagViewedCookie()})),c.lastSeenCookie()},d.loadView=function(c){e("js-loaded-"+a.actionName+"-"+a.varient),document.body.classList.add(a.actionName+"-"+a.varient),b.cookieExpireTime=c,b.showMiniBagBackup=showMiniBag,b.hideMiniBagBackup=hideMiniBag,b.isCookieSet()&&d.bindEvents()};var e=function(b){0==a.isProduction&&console.log(b)};return{Settings:a,View:{injectMessage:c.injectMessage},Model:{insertMessageRules:b.insertMessageRules},init:d.loadView}},$(window).load(function(){var a=HOFMaxymiser.UX25(),b=new Date,c=7;b.setDate(b.getDate()+c),a.Settings.varient="v1",a.init(b)});