var accordionClick=!1,inputFocus=!1,HOFMaxymiser=HOFMaxymiser||{};HOFMaxymiser.UX24_v1=function(){var a={actionName:"ux24",isProduction:!0};a.varient="v1";var b={};b.pages={MY_BAG:0,DELIVERY:1,PAYMENT:2,SUMMARY:3,COMPLETE:4},b.getPage=function(a){for(var c in b.pages)if(b.pages.hasOwnProperty(c)&&b.pages[c]==a)return c;return void 0},b.findPage=function(){var a=$("#progress"),c=a.find(".current"),d=c.index();return b.getPage(d)},b.injectSVG=function(){var a="";a+='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="20px" height="20px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">',a+='<g id="Layer_1">',a+='	<line fill="none" stroke="#000000" stroke-miterlimit="10" x1="10" y1="0" x2="10" y2="20"/>',a+='	<line fill="none" stroke="#000000" stroke-miterlimit="10" x1="0" y1="10" x2="20" y2="10"/>',a+="</g>",a+='<g id="above_fold" display="none">',a+="</g>",a+="</svg>",$(".section.paymentSection legend span").append(a),$(".pptGiftFieldset").fadeIn(600)};var c={};c.bindEvents=function(){$("#redeemCardsAndVouchers").contents().unwrap().wrap('<p id="redeemCardsAndVouchers" title="Click to Expand" />'),$(".section.paymentSection legend").click(function(){$(this).hasClass("active")?($(this).removeClass("active"),$(this).find("span").removeClass("active"),$(".container-wrapper").animate({"min-height":"0"},"fast"),$("#redeemCardsAndVouchersContainer").hide()):(accordionClick=!0,mmcore.$Action(a.actionName,1,"accordionclicked"),$(this).addClass("active"),$(this).find("span").addClass("active"),$(".container-wrapper").animate({"min-height":"272px"},"fast"),$("#redeemCardsAndVouchersContainer").delay(200).fadeIn({duration:800}))})},c.maxymiserTrackingEvents=function(){$("#dwfrm_giftchecker_giftcode, #couponCodeInput").focus(function(){mmcore.$Action(a.actionName,1,"inputFocus"),inputFocus=!0}),$('#orderConfirmButton[name="dwfrm_checkout_billing_newcreditcard_confirm"]').click(function(){accordionClick===!1&&mmcore.$Action(a.actionName,1,"submitNoAccordionClick")})},c.loadView=function(){"PAYMENT"===b.findPage()&&(d("js-loaded-"+a.actionName+"-"+a.varient),document.body.classList.add(a.actionName+"-"+a.varient),b.injectSVG(),$("#redeemCardsAndVouchersContainer").wrap("<div class='container-wrapper' />"),c.bindEvents(),c.maxymiserTrackingEvents())};var d=function(b){0==a.isProduction&&console.log(b)};$(function(){c.loadView()}),$(window).load(function(){"PAYMENT"===b.findPage()&&$("#redeemCardsAndVouchers, .pptGiftFieldset span").off()})}();